pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
-- pipeline protector
-- by crystal

function _init()

 ninja=new_ninja()
  for i = 0, 17 do
 	pipelines[i] = new_pipeline(130-i*8)
  end
  
 thumb=new_thumbs()
 bug=new_bugs()
  
  
	palt(1,true) -- sets default color to be blue
	palt(0,false)
		
end

function _draw()
 	cls(12)
 	spr(0,ninja.x,ninja.y)
 	spr(16,ninja.x,ninja.y+8) -- body
 	for pipe in all(pipelines) do
   	spr(5,pipe.x, pipe.y)
  end
  spr(8,thumb.x,thumb.y)
 
end

function _update()
 local newpos=ninja.x
 local newjump=ninja.y
 local mov=0
 local jump=0
 
  if (btn(0)) mov-=1 --btn is key bindings
  if (btn(1)) mov+=1
  if (btn(2)) jump-=1 else jump+=1 -- up arrow
 
 
 if (mov != 0) then
   newpos+=mov*ninja.mov_spd
   ninja.x = max(1,min(newpos,119))
 end
 
 if(jump != 0) then 
	   newjump+=jump*ninja.mov_spd
    ninja.y =max(0, min(newjump,112))
 end

 -- bugs
  	
end

-->8
-- ninja (player)

function new_ninja()
 local ninja={}
	ninja.x=64
	ninja.y=112
	ninja.sprite=0 -- sprite index
	ninja.mov_spd=2
	
 return ninja
end


-->8
-- bugs (are bad)

function new_bugs()
 local bug={}
	bug.x=64
	bug.sprite=1 -- sprite index
	bug.sprite=2 -- sprite index
	bug.mov_spd=3
	
 return bug
end
-->8
-- pipeline (must be protected)
pipelines = {}

function new_pipeline(num)
 local pipeline={}
	pipeline.x=110
	pipeline.y=num
	pipeline.sprite=6 -- sprite index
 return pipeline
end
-->8
-- thumbs up (must be aquired)

function new_thumbs()
 local thumb={}
	thumb.x=110
	thumb.y=120
	thumb.sprite=8 -- sprite index
 return thumb
end
__gfx__
110000111108801181088018e118811ee118811eb3bb33b31bbbb3b1111111111199111111111111000000000000000000000000000000000000000000000000
100800011188881181888818e118811ee118811eb3bb333b1bbb3b31111111111199111111111111000000000000000000000000000000000000000000000000
000000008188881881888818e188881e81888818b3bb33b31bbbb3b1111111111199999111111111000000000000000000000000000000000000000000000000
0ffffff08118811888188188ee8888ee8e8888e8b3bb333b1bbb3b31bbbbbb3b9999900111111111000000000000000000000000000000000000000000000000
0f0ff0f088888888188888811888888188888888b3bb33b31bbbb3b1bbbbb3b39999999111111111000000000000000000000000000000000000000000000000
05ffff50e188881e118888118818818888188188b3bb333b1bbb3b31bbbb3b3b9999900111111111000000000000000000000000000000000000000000000000
10000001ee8888eeee8888ee8188881811888811b3bb33b31bbbb3b11bbbb3b19999999111111111000000000000000000000000000000000000000000000000
1100001111888811e188881e8108801811088011b3bb333b1bbb3b311bbb3b311111111111111111000000000000000000000000000000000000000000000000
11100111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11011011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10011001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
